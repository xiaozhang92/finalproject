<html>
    <head>
        <!--reference https://stackoverflow.com/questions/16519334/limit-sum-value-of-multiple-input-fields-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>
        function check() {
            var sum = 0;
            var inputs = $(".test");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].value == parseInt(inputs[i].value)) {
                    sum += parseInt(inputs[i].value);
                    if (sum > 100) {
                        sum -= parseInt(inputs[i].value);
                        inputs[i].value =  100-sum;
                     }
                 }
            }
        }

        </script>
    </head>
    <form action="/calculate" method="post">
        <input type="hidden" name="sekey" value={{key}} >
        <div class="form-group">
            <p>Studio</p>
            <input onchange="check()" class="test" type="number" min="0" max="100" name="pct_a"/ > <p>%</p>
        </div>
        <div class="form-group">
            <p>One bedroom</p>
            <input onchange="check()" class="test" type="number" min="0" max="100" name="pct_b"/> <p>%</p>
        </div>
        <div class="form-group">
            <p>Two bedroom</p>
            <input onchange="check()" class="test" type="number" min="0" max="100" name="pct_c"/> <p>%</p>
        </div>

        <div>
            <input class=form-control type="number" min="1" name="num_f">
            <p>floors</p>
        </div>
        <button class="btn btn-primary" type="submit">Calculate</button>
    </form>

</html>